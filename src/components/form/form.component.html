<div class="reactive-form">
  <h1>Reactive Forms Status</h1>

  <div class="generator-section" [formGroup]="createFormInfo">
    <div class="generator">
      <div class="generator-header">Create Form Elements</div>

      <div class="generator-content">
        <div class="section-header">
          <span>Form Title</span>
        </div>
        <div class="section-contents">
          <label for="form-title">Title</label>
          <input type="text" id="form-title" formControlName="formTitle"/>
        </div>
      </div>

      <div class="generator-content">
        <div class="section-header">
          <span>Type</span>
        </div>
        <div class="section-contents">
          <ul>
            <li class="option">
              <input type="radio" name="form-type" id="type-input" formControlName="formType" [checked]="createFormInfo.get('formType')?.value === 'input'">
              <label class="cbx" for="type-input" (click)="selectFormTypeAsInput()">Input</label>
            </li>

            <li class="option">
              <input type="radio" name="form-type" id="type-checkBox" formControlName="formType" [checked]="createFormInfo.get('formType')?.value === 'checkbox'">
              <label class="cbx" for="type-checkBox" (click)="selectFormTypeAsCheckBox()">CheckBox</label>
            </li>

            <li class="option">
              <input type="radio" name="form-type" id="type-radio" formControlName="formType" [checked]="createFormInfo.get('formType')?.value === 'radio'">
              <label class="cbx" for="type-radio" (click)="selectFormTypeAsRadio()">Radio</label>
            </li>
          </ul>
        </div>
      </div>

      <div class="generator-content" formGroupName="formInfoByType">
        <div class="section-header">
          <i class="far fa-check-square"></i>
          <span>CheckBox</span>
        </div>
        <div class="section-contents">
          <ul>
            <li>
              <span>*</span>
              <label for="label-text">Label</label>
              <input type="text" id="label-text" formControlName="labelName">
            </li>

            <li>
              <p>Default Value</p>
              <input type="checkbox" id="checked-checkbox" formControlName="isChecked">
              <label class="cbx" for="checked-checkbox">checked</label>
            </li>
            <li>
              <input type="checkbox" id="unChecked-checkbox" formControlName="isChecked">
              <label class="cbx" for="unChecked-checkbox">unChecked</label>
            </li>
          </ul>

        </div>
        <div class="validation-options">
          <p>Validation Settings</p>
          <ul>
            <li class="option">
              <input type="checkbox" id="required">
              <label class="cbx" for="required">Required</label>
            </li>
            <li class="option">
              <input type="checkbox" id="read-only">
              <label class="cbx" for="read-only">Read Only</label>
            </li>
          </ul>
        </div>
      </div>

      <div class="generator-content" formGroupName="formInfoByType">
        <div class="section-header">
          <i class="fas fa-font"></i>
          <span>Input</span>
        </div>
        <div class="section-contents">
          <ul>
            <li>
              <span>*</span>
              <label for="label-text">Label</label>
              <input type="text" id="label-text" formControlName="labelName">
            </li>

            <li>
              <label for="label-text">Default Value</label>
              <input type="text" id="label-text" formControlName="defaultValueTxt">
            </li>

            <li>
              <label for="label-text">Place holder</label>
              <input type="text" id="label-text" formControlName="placeHolder">
            </li>
          </ul>

        </div>
        <div class="input-validation-options" formGroupName="validation">
          <p>Validation Settings</p>
          <ul>
            <li class="option">
              <input type="checkbox" id="required-input">
              <label class="cbx" for="required-input">Required</label>
            </li>
            <li class="option">
              <input type="checkbox" id="read-only-input">
              <label class="cbx" for="read-only-input">Read Only</label>
            </li>
            <li class="option length">
              <input type="checkbox" id="min-length">
              <label class="cbx" for="min-length">Min Length</label>
              <input type="text" id="min-length" formControlName="minLength">
            </li>
            <li class="option length">
              <input type="checkbox" id="max-length">
              <label class="cbx" for="max-length">Max Length</label>
              <input type="text" id="max-length" formControlName="maxLength">
            </li>
          </ul>
        </div>
      </div>
  
      <div class="generator-btn">
        <button (click)="createForm()">Generate</button>
      </div>
    </div>
  
    <div class="button-container">
      <p>Apply All</p>
      <button class="mark-btn" (click)="markAllAsTouched()">markAllAsTouched</button>
      <button class="disable-btn" (click)="disableForm()">disable</button>
      <button class="enable-btn" (click)="enableForm()">enable</button>
    </div>
  </div>

  <ul class="test-form" [formGroup]="generatedForms">
    <li class="form-info" *ngFor="let form of generatedForms.get('forms')?.value; let formIdx=index" formArrayName="forms">
     
      <div class="delete-btn" (click)="deleteForm(formIdx)"><i class="far fa-times-circle"></i></div>
      

      <div class="status">
        <p class="title">STAUTS</p>
        <ul>
          <li *ngFor="let status of statusItems" 
          [ngClass]="{
            'valid':form.get('value')?.valid && status ==='valid', 
            'invalid':form.get('value')?.invalid && status ==='invalid',
            'touched':form.get('value')?.touched && status ==='touched',
            'dirty':form.get('value')?.dirty && status ==='dirty',
            'pristine':form.get('value')?.pristine && status ==='pristine',
            'pending':form.get('value')?.pending && status ==='pending'
          }">{{status}}</li>
        </ul>
      
        <div class="validation-info">
          <p class="title">VALIDATION</p>
          <ng-container *ngIf="form.get('validationTypes')?.value.minLength"> 
            <p> Min Length : {{form.get('validationTypes')?.value.minLength}} </p>
          </ng-container>
          <ng-container *ngIf="form.get('validationTypes')?.value.maxLength"> 
            <p> Max Length : {{form.get('validationTypes')?.value.maxLength}}</p>
          </ng-container>
          <ng-container *ngIf="form.get('validationTypes')?.value.required"> 
            <p>Required</p>
          </ng-container>
        </div>
        <p> STATUS: {{form.get('value')?.status | json}}</p>
      </div>
    </li>
  </ul>
  
</div>


