<div class="reactive-form">
  <h1>Reactive Forms Status</h1>

  <div class="generator-section">
    <div class="generator">
      <div class="generator-header">Create Form Elements</div>

      <div class="generator-content">
        <div class="section-header">
          <span>Form Title</span>
        </div>
        <div class="section-contents">
          <label for="form-title">Title</label>
          <input type="text" id="form-title"/>
        </div>
      </div>

      <div class="generator-content">
        <div class="section-header">
          <span>Type</span>
        </div>
        <div class="section-contents">
          <ul>
            <li class="option">
              <input type="checkbox" id="type-input">
              <label class="cbx" for="type-input">Input</label>
            </li>

            <li class="option">
              <input type="checkbox" id="type-checkBox">
              <label class="cbx" for="type-checkBox">CheckBox</label>
            </li>

            <li class="option">
              <input type="checkbox" id="type-radio">
              <label class="cbx" for="type-radio">Radio</label>
            </li>
          </ul>
        </div>

      </div>


      
      <div class="generator-content">
        <div class="section-header">
          <i class="far fa-check-square"></i>
          <span>CheckBox</span>
        </div>
        <div class="section-contents">
          <ul>
            <li>
              <span>*</span>
              <label for="label-text">Label</label>
              <input type="text" id="label-text">
            </li>

            <li>
              <p>Default Value</p>
              <input type="checkbox" id="checked-checkbox">
              <label class="cbx" for="checked-checkbox">checked</label>
            </li>
            <li>
              <input type="checkbox" id="unChecked-checkbox">
              <label class="cbx" for="unChecked-checkbox">unChecked</label>
            </li>
          </ul>

        </div>
        <div class="validation-options">
          <p>Validation Settings</p>
          <ul>
            <li class="option">
              <input type="checkbox" id="required">
              <label class="cbx" for="required">Required</label>
            </li>
            <li class="option">
              <input type="checkbox" id="read-only">
              <label class="cbx" for="read-only">Read Only</label>
            </li>
          </ul>
        </div>
      </div>

      <div class="generator-content">
        <div class="section-header">
          <i class="fas fa-font"></i>
          <span>Input</span>
        </div>
        <div class="section-contents">
          <ul>
            <li>
              <span>*</span>
              <label for="label-text">Label</label>
              <input type="text" id="label-text">
            </li>

            <li>
              <label for="label-text">Default Value</label>
              <input type="text" id="label-text">
            </li>

            <li>
              <label for="label-text">Place holder</label>
              <input type="text" id="label-text">
            </li>
          </ul>

        </div>
        <div class="input-validation-options">
          <p>Validation Settings</p>
          <ul>
            <li class="option">
              <input type="checkbox" id="required">
              <label class="cbx" for="required">Required</label>
            </li>
            <li class="option">
              <input type="checkbox" id="read-only">
              <label class="cbx" for="read-only">Read Only</label>
            </li>
            <li class="option length">
              <input type="checkbox" id="min-length">
              <label class="cbx" for="min-length">Min Length</label>
              <input type="text" id="min-length">
            </li>
            <li class="option length">
              <input type="checkbox" id="max-length">
              <label class="cbx" for="max-length">Max Length</label>
              <input type="text" id="max-length">
            </li>
          </ul>
        </div>
      </div>


      <!-- <div class="generator-content">
        <ul class="vali-options" [formGroup]="formType">
          <li class="option">
            <label for="radio-btn">Name</label>
            <input type="text" id="radio-btn" formControlName="name" >
          </li>
        </ul>
       
      </div>
      <div class="generator-content">
        <p>Type</p>
        <ul class="options" [formGroup]="formType">
          <li class="type-option">
            <input type="radio" value="radio" id="radio" [checked]="formType.get('type')?.value === 'radio'">
            <label class="cbx" for="radio" (click)="setFormType($event)">Radio</label>
          </li>
          <li class="type-option">
            <input type="radio" value="checkbox" id="checkbox" [checked]="formType.get('type')?.value === 'checkbox'">
            <label class="cbx" for="checkbox" (click)="setFormType($event)">CheckBox</label>
          </li>
          <li class="type-option">
            <input type="radio" value="input" id="input" [checked]="formType.get('type')?.value === 'input'">
            <label class="cbx" for="input" (click)="setFormType($event)">Input</label>
          </li>
        </ul>
       
      </div>
      <div class="generator-content" *ngIf="formType.get('type')?.value === 'input'">
        <p>Validation</p>
  
        <ul class="vali-options" [formGroup]="validation">
          <li class="option">
            <input type="checkbox" id="required" formControlName="required">
            <label class="cbx" for="required">Required</label>
          </li>
          <li class="option">
            <input type="checkbox" id="min-length" [checked]="validation.get('minLength')?.value">
            <label class="cbx" for="min-length">Min Length</label>
            <input type="text" formControlName="minLength">
          </li>
          <li class="option">
            <input type="checkbox" id="max-length" [checked]="validation.get('maxLength')?.value">
            <label class="cbx" for="max-length">Max Length</label>
            <input type="text" formControlName="maxLength">
          </li>
        </ul>
      </div> -->
  
      <div class="generator-btn">
        <button (click)="createForm()">Generate</button>
      </div>
    </div>
  
    <div class="button-container">
      <p>Apply All</p>
      <button class="mark-btn" (click)="markAllAsTouched()">markAllAsTouched</button>
      <button class="disable-btn" (click)="disableForm()">disable</button>
      <button class="enable-btn" (click)="enableForm()">enable</button>
    </div>
  </div>

  <ul class="test-form">
    <li class="form-info" *ngFor="let form of forms.controls; let index=index;">
      <div class="delete-btn" (click)="deleteForm(index)"><i class="far fa-times-circle"></i></div>
      <div class="form-box" *ngIf="form.get('type')?.value === 'checkbox'" [formGroup]="getFormGroup(form)">
        <input id="example-{{index}}" type="checkbox">
        <label class="cbx" for="example-{{index}}">{{form.get('name')?.value}}</label>
      </div>
  
      <div class="form-box" *ngIf="form.get('type')?.value === 'input'" [formGroup]="getFormGroup(form)">
        <label for="example-{{index}}">{{form.get('name')?.value}}</label>
        <input type="text" id="example-{{index}}" formControlName="value">
      </div>

      <div class="form-box" *ngIf="form.get('type')?.value === 'radio'" [formGroup]="getFormGroup(form)">
        <label for="example-{{index}}">{{form.get('name')?.value}}</label>
        <input type="radio" id="example-{{index}}" formControlName="value">
      </div>

      <div class="status">
        <p class="title">STAUTS</p>
        <ul>
          <li *ngFor="let status of statusList" 
          [ngClass]="{
            'valid':form.get('value')?.valid && status ==='valid', 
            'invalid':form.get('value')?.invalid && status ==='invalid',
            'touched':form.get('value')?.touched && status ==='touched',
            'dirty':form.get('value')?.dirty && status ==='dirty',
            'pristine':form.get('value')?.pristine && status ==='pristine',
            'pending':form.get('value')?.pending && status ==='pending'
          }">{{status}}</li>
        </ul>
      
        <div class="validation-info">
          <p class="title" *ngIf="hasValidationForm(form)">VALIDATION</p>
          <ng-container *ngIf="form.get('validationTypes')?.value.minLength"> 
            <p> Min Length : {{form.get('validationTypes')?.value.minLength}} </p>
          </ng-container>
          <ng-container *ngIf="form.get('validationTypes')?.value.maxLength"> 
            <p> Max Length : {{form.get('validationTypes')?.value.maxLength}}</p>
          </ng-container>
          <ng-container *ngIf="form.get('validationTypes')?.value.required"> 
            <p>Required</p>
          </ng-container>
        </div>
        <!-- <p> STATUS: {{form.get('value')?.status | json}}</p> -->
      </div>
    </li>
  </ul>
  
</div>


